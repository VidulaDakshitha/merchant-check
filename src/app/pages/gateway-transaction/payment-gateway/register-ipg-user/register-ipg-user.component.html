<nb-card>
  <ul class="bread" style="margin-bottom: 0!important;padding: 8px;">
    <li><a href="#/pages/dashboard">Home</a></li>
    <li><a href="#/pages/payment-gateway">Home</a></li>
    
    <li>IPG User</li>
  </ul>
</nb-card>
<div class="row">
  <div class="col-12">
    <nb-card size="small" style="height: auto;">
      <nb-tabset fullWidth>
        <nb-tab tabTitle="Basic Info">
          <nb-card-body class="dialog-border">
            <nb-list class="nb-list-details">
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>Activation</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>Active</span>
                  </div>
                </div>
              </nb-list-item>
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>User name</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>Active</span>
                  </div>
                </div>
              </nb-list-item>
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>Password</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>Active</span>
                  </div>
                </div>
              </nb-list-item>
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>Create Date and Time</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>Active</span>
                  </div>
                </div>
              </nb-list-item>

            </nb-list>
            <h5 class="merchant-view-sub-head">Associated merchant</h5>
            <nb-list class="nb-list-details">
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>Merchant name</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>harshak</span>
                  </div>
                </div>
              </nb-list-item>
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>Email</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>harshak</span>
                  </div>
                </div>
              </nb-list-item>
              <nb-list-item class="list-item">
                <div class="row">
                  <div class="col-md-6 col-lg-4 col-xxxl-4">
                    <span>Phone number</span>
                  </div>
                  <div class="col-md-6 col-lg-8 col-xxxl-8">
                    <span>harshak</span>
                  </div>
                </div>
              </nb-list-item>
            </nb-list>
            <h5 class="merchant-view-sub-head">Delete IPG User</h5>

            When click on delete can not be undone after click on it all apps associated with user will be disabled

            <span class="pw-viewbutton">
              <button class="pw-view-button" (click)="openDeleteIpguser(dialogDeleteIpguser)">Delete IPG User</button>
            </span>
          </nb-card-body>
        </nb-tab>

        <!-- app -->
        <nb-tab tabTitle="Apps">
          <div class="row">
            <div class="col-12">
              <nb-card class="box_shadow" style="height:auto!important;" size="small">
                <div class="container">
                  <div class="row">
                    <button (click)="openAddApp(dialogaddApp)" class="button">Add App</button>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card">
                        <div class="card-header">
                          App Details
                        </div>
                        <div class="card-body">
                          <table class="table table-responsive-sm table-hover table-outline mb-0">
                            <thead class="thead-light">
                              <tr>
                                <th>ID</th>
                                <th>App ID</th>
                                <th>Date & Time</th>
                                <th>Activation</th>
                                <th>Action</th>
                              </tr>
                            </thead>
                            <!-- <tbody>
                              <tr
                                *ngFor="let transaction_manual of transaction_manual_list | paginate: { itemsPerPage: pageSize2, currentPage: p2, totalItems: total2 }">
                                <td>{{transaction_manual.id}}</td>
                                <td>
                                  {{transaction_manual.type == 'CQ' ? 'CHEQUE' : transaction_manual.type == 'CH' ? 'CASH' : 'CARD'}}
                                </td>
                                <td>{{transaction_manual.amount| number : '1.2-2'}}</td>
                                <td>{{transaction_manual.updated_on | date: 'dd/MM/yyyy - hh:mm'}}</td>
                                <td>
                                  <button class="button2"
                                    (click)="openUpdateManualTransaction(dialogUpdateManualTransaction,transaction_manual)">Update</button>
                                </td>
                                <td>
                                  <button
                                    (click)="openDeleteManualTransaction(dialogDeleteManualTransaction,transaction_manual)"
                                    class="button2">Delete</button>
                                </td>
                              </tr>
                              <tr *ngIf="transaction_manual_list.length<1">
                                <td colspan="10" style="text-align: center;" *ngIf="!is_loading">
                                  <span style="display: block;padding-bottom: 7px;">Data Not Available</span>
                                  <span style="display: block;">
                                    <img src="../../../../../assets/images/data-not-available.gif"
                                      alt="Data not Available" style="width:30%;">
                                  </span>
                                </td>
                                <td colspan="10" *ngIf="is_loading" style="text-align: center;">
                                  <div class="sk-circle">
                                    <div class="sk-circle1 sk-child"></div>
                                    <div class="sk-circle2 sk-child"></div>
                                    <div class="sk-circle3 sk-child"></div>
                                    <div class="sk-circle4 sk-child"></div>
                                    <div class="sk-circle5 sk-child"></div>
                                    <div class="sk-circle6 sk-child"></div>
                                    <div class="sk-circle7 sk-child"></div>
                                    <div class="sk-circle8 sk-child"></div>
                                    <div class="sk-circle9 sk-child"></div>
                                    <div class="sk-circle10 sk-child"></div>
                                    <div class="sk-circle11 sk-child"></div>
                                    <div class="sk-circle12 sk-child"></div>
                                  </div>
                                </td>
                              </tr>

                            </tbody> -->
                          </table>
                          <!-- <pagination-controls (pageChange)="pageChangedManual($event)" responsive="true"
                            (pageBoundsCorrection)="pageChangedManual($event)" style="float: right">
                          </pagination-controls> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </nb-card>
            </div>
          </div>

        </nb-tab>

      </nb-tabset>
    </nb-card>
  </div>
</div>

<!-- <div class="sk-circle" *ngIf="is_loading">
  <div class="sk-circle1 sk-child"></div>
  <div class="sk-circle2 sk-child"></div>
  <div class="sk-circle3 sk-child"></div>
  <div class="sk-circle4 sk-child"></div>
  <div class="sk-circle5 sk-child"></div>
  <div class="sk-circle6 sk-child"></div>
  <div class="sk-circle7 sk-child"></div>
  <div class="sk-circle8 sk-child"></div>
  <div class="sk-circle9 sk-child"></div>
  <div class="sk-circle10 sk-child"></div>
  <div class="sk-circle11 sk-child"></div>
  <div class="sk-circle12 sk-child"></div>
</div> -->

<!-- delete ipg user -->
<ng-template #dialogDeleteIpguser let-data let-ref="dialogRef">
  <form [formGroup]="deleteIpguserForm" class="step-container" (ngSubmit)="deleteIpguserData()">
    <nb-card style="width: 40vw;">
      <nb-card-header>Delete IPG User</nb-card-header>
      <nb-card-body class="dialog-border-event">
        <div class="modal-body">
          <p><strong>Are you sure you want to delete <span class="text-primary"></span> IPG user?</strong></p>
          <p>When click on delete,all associated apps will be disabled to proceed request enter
            <span class="text-danger">"permanetly delete"</span> on below feild
          </p>
          <div class="col-md-12 col-lg-12 col-xxxl-12">
            <div class="input-group">

              <input class="form-control input-bottom" formControlName="permently_delete" type="text" nbInput fullWidth
                shape="rectangle" placeholder="Enter permanetly delete"
                [ngClass]="{'form-control-danger': (deleteIpguserForm.get('permently_delete').dirty || deleteIpguserForm.get('permently_delete').touched) && deleteIpguserForm.get('permently_delete').errors}">
              <div
                *ngIf="deleteIpguserForm.get('permently_delete').invalid && (deleteIpguserForm.get('permently_delete').dirty || deleteIpguserForm.get('permently_delete').touched)">
                <small *ngIf="deleteIpguserForm.get('permently_delete').errors['required']" class="text-danger">
                  Permarnetly delete is required!</small>
              </div>
            </div>
          </div>
        </div>
      </nb-card-body>
      <nb-card-footer>
        <button nbButton (click)="ref.close()" style="float: right;">Close</button>
        <button nbButton style="float: left;" type='submit'>Delete</button>
      </nb-card-footer>
    </nb-card>
  </form>
</ng-template>

<!-- create app -->
<ng-template #dialogaddApp let-data let-ref="dialogRef">
  <form [formGroup]="addAppForm" class="step-container" (ngSubmit)="addIAppData()">
    <nb-card style="width: 40vw;">
      <nb-card-header>Create App for User 'Test'</nb-card-header>

      <nb-card-body class="dialog-border">
        <div class="col-md-12 col-lg-12 col-xxxl-12">
          <div class="input-group">
            <label class="label-form-control label-name">App Name</label>
            <input class="form-control input-bottom" formControlName="app_name" type="text" nbInput fullWidth
              shape="rectangle" placeholder="Enter App Name"
              [ngClass]="{'form-control-danger': (addAppForm.get('app_name').dirty || addAppForm.get('app_name').touched) && addAppForm.get('app_name').errors}">
            <div
              *ngIf="addAppForm.get('app_name').invalid && (addAppForm.get('app_name').dirty || addAppForm.get('app_name').touched)">
              <small *ngIf="addAppForm.get('app_name').errors['required']" class="text-danger">
                App name is required!</small>
            </div>
          </div>
        </div>

        <div class="col-md-12 col-lg-12 col-xxxl-12">
          <div class="input-group">
            <label class="label-form-control label-name">Designation(Optional)</label>
            <textarea class="text-discription" rows="4" nbInput fullWidth shape="round" formControlName="description"
              placeholder="Text Designation"
              [ngClass]="{'form-control-danger': (addAppForm.get('description').dirty || addAppForm.get('description').touched) && addAppForm.get('description').errors}"></textarea>
          </div>
        </div>
        <div class="col-md-12 col-lg-12 col-xxxl-12">
          <div class="input-group">
            <label class="label-form-control label-name">Call back URL</label>
            <input class="form-control input-bottom" formControlName="call_back_url" type="text" nbInput fullWidth
              shape="rectangle" placeholder="ex-: 1992.X.X.X / callback /"
              [ngClass]="{'form-control-danger': (addAppForm.get('call_back_url').dirty || addAppForm.get('call_back_url').touched) && addAppForm.get('call_back_url').errors}">
            <div
              *ngIf="addAppForm.get('call_back_url').invalid && (addAppForm.get('call_back_url').dirty || addAppForm.get('call_back_url').touched)">
              <small *ngIf="addAppForm.get('call_back_url').errors['required']" class="text-danger">
                Callback URL is required!</small>
            </div>
          </div>
        </div>
        <div class="col-md-12 col-lg-12 col-xxxl-12">
          <div class="input-group">
            <label style="width: 100%;" class="label-form-control label-name">Password</label>
            <input class="form-control form-control-text" [type]="fieldTextType ? 'text' : 'password'"
              placeholder="Enter Password" name="password" formControlName="password" required
              [ngClass]="{'form-control-danger': (addAppForm.get('password').dirty || addAppForm.get('password').touched) && addAppForm.get('password').errors}">
            <div class="input-group-append">
              <span class="input-group-text">
                <i class="fa" [ngClass]="{
												 'fa-eye-slash': !fieldTextType,
												 'fa-eye': fieldTextType
												 }" (click)="toggleFieldTextType()"></i>
              </span>
            </div>
            <div class="input_type_pw"
              *ngIf="addAppForm.get('password').invalid && (addAppForm.get('password').dirty ||addAppForm.get('password').touched)">
              <div
                *ngIf="addAppForm.get('password').invalid && (addAppForm.get('password').dirty || addAppForm.get('password').touched)">
                <small *ngIf="addAppForm.get('password').errors['required']" class="validation-message text-danger">
                  Password is required!</small>
                <small *ngIf="addAppForm.get('password').errors['minlength']"
                  class="validation-message text-danger text-danger"> Password must be at
                  least 8 characters long.</small>
                <small
                  *ngIf="addAppForm.get('password').errors['pattern'] && !addAppForm.get('password').errors['minlength']"
                  class="validation-message text-danger">
                  Please choose a stronger password.</small>

              </div>
            </div>
          </div>
        </div>
       

        <div [hidden]='isHidden' class="col-md-12 col-lg-12 col-xxxl-12">
          <div class="input-group">
            <label class="label-form-control label-name">Origine</label>
            <div class="col-md-12 col-lg-12 col-xxxl-12">
              <input (click)='showRgx()' type="checkbox"><label style="margin-left: 4px;"
                class="label-form-control label-name">Validation Script(optional)</label>
            </div>
            <textarea class="text-discription" [nbPopover]="templateRef" rows="4" nbInput fullWidth shape="round"
              formControlName="origine" placeholder="Enter Origine"
              [ngClass]="{'form-control-danger': (addAppForm.get('origine').dirty || addAppForm.get('origine').touched) && addAppForm.get('origine').errors}"></textarea>
            <div
              *ngIf="addAppForm.get('origine').invalid && (addAppForm.get('origine').dirty || addAppForm.get('origine').touched)">
              <small *ngIf="addAppForm.get('origine').errors['required']" class="text-danger">
                Origine is required!</small>
            </div>
            <ng-template #templateRef>
              <span style="padding: 5px;">

                <span>when enter multiple origines add separate with comma ","</span>

              </span>

            </ng-template>
          </div>
        </div>

      </nb-card-body>
      <nb-card-footer>

        <button nbButton (click)="ref.close()" style="float: right;">Close</button>
        <button nbButton style="float: left;" [disabled]="!addAppForm.valid" type='submit'>Submit</button>
      </nb-card-footer>

    </nb-card>
  </form>
</ng-template>